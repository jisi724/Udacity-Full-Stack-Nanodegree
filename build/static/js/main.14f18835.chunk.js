(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){e.exports=a.p+"static/media/icon.3cd1facd.png"},21:function(e,t,a){e.exports=a.p+"static/media/toggle.30ed7761.png"},22:function(e,t,a){e.exports=a.p+"static/media/loopup.92c5fcf5.png"},23:function(e,t,a){e.exports=a(37)},28:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),l=a(18),o=a.n(l),i=(a(28),a(6)),s=a(7),c=a(9),u=a(8),m=a(10),p=a(12),d=(a(35),function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.restaurant,t={backgroundImage:"url("+e.image+")"};return r.a.createElement("div",{className:"map-popup"},r.a.createElement("div",{className:"map-popup-header",style:t},r.a.createElement("div",null,r.a.createElement("h4",null,e.name),r.a.createElement("h5",null,e.rate," / 5"))),r.a.createElement("div",{className:"map-popup-info"},r.a.createElement("div",null,r.a.createElement("h5",{className:"label"},"Address: "),r.a.createElement("h5",{className:"value"},e.address)),r.a.createElement("div",null,r.a.createElement("h5",{className:"label"},"Average Cost: "),r.a.createElement("h5",{className:"value"},"$",e.cost)),r.a.createElement("div",null,r.a.createElement("a",{href:e.menuUrl,target:"_blank",rel:"noopener noreferrer"},"Check Menu"),r.a.createElement("a",{href:e.introUrl,target:"_blank",rel:"noopener noreferrer"},"Check Intro"))))}}]),t}(n.Component)),h=a(20),f=a.n(h),g=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e)))._updateViewport=function(e){a.setState({viewport:e})},a._selectChangeHandler=function(e){a.props.onSelectChange(e)},a._renderMarkers=function(){return a.props.items.filter(function(e){return-1!==e.restaurant.name.toLowerCase().indexOf(a.props.inputFilter.toLowerCase())}).map(function(e,t){var n=e.restaurant.location;return r.a.createElement(p.a,{latitude:parseFloat(n.latitude),longitude:parseFloat(n.longitude),key:t},r.a.createElement("img",{src:f.a,className:"map-marker",alt:"blue marker",onClick:function(){return a._selectChangeHandler(e.restaurant.R.res_id)}}))})},a._renderPopupWindow=function(){if(a.props.selectItem){var e=null;return a.props.items.forEach(function(t){if(t.restaurant.R.res_id===a.props.selectItem){var n=t.restaurant;e={latitude:parseFloat(n.location.latitude),longitude:parseFloat(n.location.longitude),name:n.name,cost:parseFloat(n.average_cost_for_two)/2,image:n.featured_image,address:n.location.address,menuUrl:n.menu_url,introUrl:n.url,rate:n.user_rating.aggregate_rating}}}),r.a.createElement(p.c,{longitude:e.longitude,latitude:e.latitude,closeOnClick:!1,onClose:function(){return a._selectChangeHandler(null)}},r.a.createElement(d,{restaurant:e}))}},a.state={viewport:{width:"100%",height:"100vh",latitude:49.2727,longitude:-123.1107,zoom:12}},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"map"},r.a.createElement(p.d,Object.assign({},this.state.viewport,{mapboxApiAccessToken:"pk.eyJ1IjoiamlzaTcyNCIsImEiOiJjaW83bmRjODEwMnBodmdrcWlmc2M2NTF1In0.diflnHFyCHTX4yUOeuZOlg",mapStyle:"mapbox://styles/mapbox/basic-v9",onViewportChange:this._updateViewport}),r.a.createElement("div",{className:"map-nav"},r.a.createElement(p.b,{onViewportChange:this._updateViewport})),this._renderMarkers(),this._renderPopupWindow()))}}]),t}(n.Component),v=a(21),E=a.n(v),b=a(22),w=a.n(b),C=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e)))._renderItemList=function(){var e=a.props.items.filter(function(e){return-1!==e.restaurant.name.toLowerCase().indexOf(a.props.inputFilter.toLowerCase())});return e.length>0?e.map(function(e,t){var n=e.restaurant,l=a.props.selectItem===n.R.res_id;return r.a.createElement("div",{className:"menu-list-item "+(l?"selected":""),key:t,onClick:function(){return a._selectChangeHandler(n.R.res_id)}},r.a.createElement("h5",null,n.name))}):r.a.createElement("h5",null,"No result.")},a._filterChangeHandler=function(e){a.props.onFilterChange(e.target.value)},a._selectChangeHandler=function(e){a.props.onSelectChange(e)},a.state={showMenu:!0},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:"menu",style:{transform:this.state.showMenu?"translateX(0)":"translateX(-265px)"}},r.a.createElement("div",{className:"menu-heading"},r.a.createElement("h2",null,"Neighborhood App"),r.a.createElement("h4",null,"Find the best SUSHI in Vancouver!")),r.a.createElement("div",{className:"menu-filter"},r.a.createElement("input",{type:"text",placeholder:"Input Filter",value:this.state.inputFilter,onChange:this._filterChangeHandler}),r.a.createElement("img",{src:w.a,alt:"a search icon"})),r.a.createElement("div",{className:"menu-list"},this._renderItemList()),r.a.createElement("div",{className:"menu-toggle",onClick:function(){return e.setState({showMenu:!e.state.showMenu})}},r.a.createElement("img",{src:E.a,alt:"Three lines menu icon"})))}}]),t}(n.Component),_=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e)))._updateFilterItem=function(e){a.setState({inputFilter:e,selectItem:null})},a._updateSelectItem=function(e){a.setState({selectItem:e})},a.state={items:[],inputFilter:"",selectItem:null},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://developers.zomato.com/api/v2.1/search?q=sushi&count=50&lat=49.2501&lon=-123.0824&radius=100000",{headers:new Headers({"user-key":"b95ab0780f238e8875f0686727f6ef80",Accept:"application/json"})}).then(function(e){return e.json()}).then(function(t){e.setState({items:t.restaurants})},function(e){alert("There's something wrong to fetch data from Zomato.\nCheck your internet connection or contact your admin.")})}},{key:"render",value:function(){return r.a.createElement("main",{id:"app"},r.a.createElement(C,Object.assign({},this.state,{onFilterChange:this._updateFilterItem,onSelectChange:this._updateSelectItem})),r.a.createElement(g,Object.assign({},this.state,{onSelectChange:this._updateSelectItem})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,2,1]]]);
//# sourceMappingURL=main.14f18835.chunk.js.map